<template>
	<div>
		<mark-down class="content">

## 마이크로서비스 설계원칙
- 마이크로서비스 아키텍처: 공장과 창고의 비유로 이해하기

이 교육 자료는 마이크로서비스 아키텍처의 개념을 공장과 창고의 비유를 통해 설명합니다. 주요 내용은 다음과 같습니다.

### 소개

1. 모노리스와 마이크로서비스 아키텍처의 비교
2. 채티 마이크로서비스의 문제점
3. 올바른 마이크로서비스 설계 원칙
4. 데이터베이스 중심 설계의 위험성
5. 프로세스 중심의 마이크로서비스 설계 방법

이를 통해 마이크로서비스 설계 시 흔히 발생하는 실수와 그 해결책을 쉽게 이해할 수 있도록 설명합니다.


### 모노리스 아키텍처: 거대한 통합 공장

먼저 모노리스 아키텍처를 살펴보겠습니다. 이는 마치 거대한 단일 공장과 같습니다. 이 공장에는 TV, 냉장고, 세탁기 등 다양한 가전제품을 만드는 데 필요한 모든 자재와 도구가 한 곳에 모여 있습니다. 이런 구조는 모든 것이 한 지붕 아래 있어 편리해 보일 수 있지만, 시간이 지나면서 여러 문제점이 드러납니다.


### 마이크로서비스 아키텍처: 전문화된 공장들의 네트워크

마이크로서비스 아키텍처는 이 거대한 공장을 여러 개의 작은 전문 공장으로 나누는 것과 같습니다. 각 공장은 특정 부품이나 공정에 특화되어 있습니다. 
예를 들어

1. 부품 제조 공장: TV의 디스플레이 패널을 만드는 공장
2. 조립 공장: 완성된 부품들을 받아 최종 제품으로 조립하는 공장

이렇게 나누면 각 공장은 자신의 전문 영역에 집중할 수 있고, 필요에 따라 확장하거나 업그레이드하기도 쉬워집니다.


### 채티 마이크로서비스: 잘못된 설계의 함정

하지만 마이크로서비스를 잘못 설계하면 '채티 마이크로서비스'라는 문제에 빠질 수 있습니다. 
이는 마치

1. 조립 공장이 필요할 때마다 부품 공장에 자잘한 요청을 하는 경우
2. 조립 공장이 부품 공장의 원자재 창고에 직접 접근하는 경우

이런 상황은 공장 간 불필요한 의존성을 만들고, 전체 시스템의 효율을 떨어뜨립니다.


### 올바른 마이크로서비스 설계 원칙

1. **데이터 로컬리티**: 각 서비스(공장)는 자신의 작업에 필요한 데이터(자재)를 가까이에 두어야 합니다.
2. **중간 완성품 교환**: 공장 간에는 가능한 한 중간 완성품 수준의 결과물을 주고받아야 합니다.
3. **명확한 책임 분리**: 각 서비스는 자신의 영역에 집중하고, 다른 서비스의 내부 작업에 간섭하지 않아야 합니다.


### 데이터베이스 중심 설계의 위험성

마이크로서비스를 설계할 때 흔히 저지르는 실수 중 하나는 데이터베이스의 구조를 기준으로 서비스를 나누는 것입니다. 이는 마치 공장을 원자재의 종류에 따라 나누는 것과 같습니다. 이런 접근은 다음과 같은 문제를 일으킬 수 있습니다.

1. 데이터 의존성 증가
2. 비즈니스 프로세스의 분절
3. 서비스 간 과도한 통신


### 프로세스 중심의 마이크로서비스 설계

대신, 비즈니스 프로세스의 흐름, 즉 '밸류 스트림'을 기준으로 서비스를 설계해야 합니다. 이는 제품이 만들어지는 과정을 따라 공장을 나누는 것과 같습니다.

1. 각 단계(밸류 스텝)별로 필요한 데이터와 작업을 묶습니다.
2. 이를 기반으로 '바운디드 컨텍스트'를 정의하고, 이에 따라 서비스를 나눕니다.
3. 각 서비스 내에서 데이터 로컬리티를 확보합니다.


### 결론

마이크로서비스 아키텍처는 강력한 도구지만, 올바르게 설계되어야 그 장점을 발휘할 수 있습니다. 채티 마이크로서비스와 같은 안티 패턴을 피하고, 비즈니스 프로세스의 흐름을 중심으로 서비스를 설계함으로써 효율적이고 확장 가능한 시스템을 구축할 수 있습니다.

		</mark-down>
	</div>
</template>


<script>
    // @group 01_02_03
    export default {
        name: 'DesignMSA',
        props: {
            "마이크로서비스 설계원칙": {
                type: String
            },
        },

    }
</script>
